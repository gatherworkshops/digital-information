<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Flask</title>
        <meta name="viewport" content="width=device-width">

        <!-- google translate - language identifier -->
        <meta name="google-translate-customization" content="a148a80643fbe5d7-b9de7b0f0180d6d8-g318479cea978092f-2b"></meta>

        <!-- Bootstrap -->
        <link href="/digital-information/theme/assets/submodules/bootstrap/css/bootstrap.min.css" rel="stylesheet">

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="/digital-information/theme/assets/submodules/jquery/jquery-1.11.2.min.js"></script>

        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="/digital-information/theme/assets/submodules/bootstrap/js/bootstrap.min.js"></script>

        <!-- Custom Fonts -->
        <link href="http://fonts.googleapis.com/css?family=Karla:400,400italic,700,700italic" rel="stylesheet" type="text/css">

        <!-- revealjs for slideshows -->
        <link rel="stylesheet" href="/digital-information/theme/assets/submodules/revealjs/css/reveal.min.css">

        <!-- Prism -->
        <link rel="stylesheet" href="/digital-information/theme/assets/submodules/prism/prism.css">
        <script src="/digital-information/theme/assets/submodules/prism/prism.js"></script>

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/digital-information/theme/assets/css/styles.css">

        <!-- Favicon -->
        <link rel="shortcut icon" href="/digital-information/favicon.ico">

    </head>

    <body class="">
<nav id="page-navigation">


    <!-- branding and strand name - always visible. links to home page -->
    <a class="strand-name navbar-brand" href="/digital-information/">
        <img class="avatar" src="/digital-information/theme/assets/images/gw-avatar.png">
        Digital Information 
    </a>



    <!-- vertical divider bar, if we can move this to CSS that'd be ace -->
    <p class="divider-bar navbar-text invisible">
        |
    </p>



    <!-- page name or course name depending on context -->
    

        <!-- course name has to be set by jQuery from JSON data -->
        <a class="course-name navbar-text invisible" href="index.html"></a>

    



    <!-- chapter dropdown available if this page is a chapter -->
    
        
        <ul class="chapter-nav nav navbar-nav invisible">
        <li class="dropdown">
          <a href="#" class="chapter-name dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Flask <span class="caret"></span></a>
          <ul class="chapters dropdown-menu">
          </ul>
        </li>
      </ul>

    




    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse navbar-right">
      <ul class="site-nav nav navbar-nav">

        

      </ul>

    </div><!-- /.navbar-collapse -->



    <script>
        // generates the chapter dropdown menu from a json file
        $(document).ready( function() {

            // updates the nav with data fetched from the course's JSON.
            // we do this via JSON to avoid the need for repetition of
            // sitemap or coursemap data in a place other than the course's
            // root directory, as Jekyll can only read custom data from the
            // _data dir which is not ideal.
            function generateMenu(course) {

                // find all elements we will modify
                var navBar = $('#page-navigation');
                var courseName = navBar.find('.course-name');
                var chapterDropdown = navBar.find('.dropdown-menu');

                // update the course name in the nav bar
                courseName.html(course.title);

                // create and append a menu item for each chapter
                $.each(course.chapters, function(index, chapter){
                    var chapterLink = $(
                        '<li>' +
                            '<a href="' + this.name + '">' +
                                this.title +
                            '</a>' +
                        '</li>'
                    );
                    chapterDropdown.append(chapterLink);
                });

                // show all hidden nav elements
                navBar
                    .find('.invisible')
                    .removeClass('invisible');
            }

            // go get the course data
            $.get( "index.json", generateMenu);

        });
    </script>


</nav>

	
		
			
<div class="page-content">


<div class="slideshow">

	<div class="reveal">

		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">





<!-- slide -->
<section class="title-slide"
		
	
		id=""
		data-background="/digital-information/media/images/theme/theme-tile.svg" 
		data-background-color="#663399"
		data-background-size="200px" 
		data-background-repeat="repeat"
	
	>
		

<p><img src="/digital-information/theme/assets/images/gw_logo.png" alt="Gather Workshops Logo" /></p>

<h1 id="flask">Flask</h1>
<p><em>Running a Python website</em></p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<p><img src="assets/images/flask-logo.png" alt="Flask Logo" height="200" /></p>

<h2 id="what-the-heck-is-flask">What the heck is Flask?</h2>

<p>We will be using Flask to run a website<br />
where we can interact with our database.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="flask-is-a-python-framework-for-websites">Flask is a Python framework for websites</h3>

<p>This means it is a bunch of Python code that<br />
someone else wrote to do common website tasks.</p>


<aside class="notes">

<p>Flask is a framework for Python in the same way that these other projects are frameworks for their base languages:</p>

<ul>
  <li>jQuery is a framework for JavaScript</li>
  <li>Sass is a framework for CSS</li>
  <li>Laravel is a framework for PHP</li>
  <li>Symfony is a framework for PHP</li>
</ul>

<p>A framework provides a library of existing code in the target language, along with some recommended ways of structuring your program.</p>

<p>Frameworks allow developers to work together more easily by having a set of “design rules” for their code.</p>

<p>Frameworks also allow us to achieve outcomes faster, as we don’t need to write as much code.</p>

</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="an-html-and-css-website-run-with-python">An HTML and CSS website run with Python</h3>

<p>A Flask website still uses HTML and CSS,<br />
but pages can also display data from Python.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="allows-you-to-run-code-before-displaying-a-page">Allows you to run code before displaying a page</h3>

<p>Every Flask page is processed in Python<br />
before being displayed to the user.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="allows-you-to-re-use-code-across-pages">Allows you to re-use code across pages</h3>

<p>Flask support templates and includes,<br />
so you can write code once and re-use it.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="built-in-support-for-database-access">Built in support for database access</h3>

<p>We can use Python to access our database<br />
and then pass the results into an HTML page.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h2 id="set-up-new-project-from-starter">Set up new project from starter</h2>

<p>Download and unzip the Flask starter kit.<br />
<a href="assets/zip/flask-starter.zip" target="_blank">Download Flask Starter</a></p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="copy-the-public-folder">Copy the public folder</h3>

<p>Copy the whole folder called “public”<br />
which is inside the flask-starter.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="paste-public-into-your-project-folder">Paste ‘public’ into your project folder</h3>

<p>You should now have two folders in your project:<br />
the <code>db</code> folder, and a new <code>public</code> folder.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h2 id="flask-tour">Flask tour</h2>

<p>Let’s take a quick look at what<br />
we have included in the starter.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="the-assets-folder">The assets folder</h3>

<p>This is where you keep all of your images<br />
and also any CSS of JavaScript you need.</p>


<aside class="notes">

<p>We’ve included a starter CSS file, a few images, and jQuery.</p>

<p>You will need to modify these assets as you develop your project.</p>

</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="includes-folder">Includes folder</h3>

<p>This is where you keep pieces of HTML code<br />
you’d like to use on more than one page.</p>

<p>eg. header, footer, navigation</p>


<aside class="notes">

<p>You will need to modify these includes as you develop your project.</p>

</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="templates-folder">Templates folder</h3>

<p>In Flask, a template is the HTML layout<br />
for a page in your website.</p>

<p>eg. index, user-profile, contact, generic-page</p>


<aside class="notes">

<p>You can use the same template across multiple pages, or you can have a separate layout for every page - it’s up to you!</p>

<p>The point is that you could for example design your home page to have a unique design, but have every other page have a consistent layout with only the page’s content changing.</p>

<p>You will need to modify these templates as you develop your project.</p>

</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="random-python-init-file">Random Python init file</h3>

<p>This file is required by Python so that<br />
it knows to look here for project files.</p>


<aside class="notes">

<p>This init file is a pain, but you need it in any folder where you have python files which need to be included in the project, otherwise the app won’t be able to find them.</p>

<p>This init file also contains some code which the app needs when it first launches.</p>

<p>You do not need to modify this file.</p>

</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="the-data-manager-handles-database-connections">The data manager handles database connections</h3>

<p>This file contains some helper functions to<br />
keep our database connected on every page.</p>


<aside class="notes">

<p>The database manager is not a default part of Flask, it’s something Gather has written for you to make working with databases in Flask even easier.</p>

<p>You need to change the name of the database referenced in this file.</p>

<p>Once you’ve set the right database file path you do not need to modify this file again.</p>

</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="the-routes-file-manages-your-sites-pages">The routes file manages your site’s pages</h3>

<p>Maps web page URLs to Python functions.<br />
Most of your Python code will go in here!</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h2 id="run-project">Run project</h2>

<p>A Flask website is a Python app,<br />
so we need to start it running.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="create-a-run-script">Create a run script</h3>

<pre><code class="language-python">from public import website
website.run(debug=True)
</code></pre>

<p>Create a new file in your project<br />
called <code>runserver.py</code> with the code above.</p>


<aside class="notes">

<p>This file should be directly inside your project folder.</p>

<p>The means your project should now contain the two folders <strong>db</strong> and <strong>public</strong> plus a new file called <strong>runserver.py</strong>.</p>

<p>This Python script imports the information from <strong>__init__.py</strong> in the public folder, which includes a variable called <strong>website</strong> which is an instance of Flask.</p>

<p>It then executes the <strong>run</strong> function on the website, which starts the app and makes it accessible from the browser.</p>

<p>The parameter <strong>debug=True</strong> makes the Flask site automatically restart any time you make changes to the website files.</p>

</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="execute-the-run-server-script-from-the-shell">Execute the ‘run server’ script from the shell</h3>

<pre><code class="language-bash">python runserver.py
</code></pre>

<p>Some text should be displayed<br />
to confirm the app is running.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="open-the-site-in-a-browser">Open the site in a browser</h3>

<p>Open your web browser and navigate to <br />
the url <code>localhost:5000</code> to see your site.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h2 id="create-routes-and-templates">Create routes and templates</h2>

<p>We have a home page, but we need<br />
to set up some other pages too.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="page-to-post-a-new-message">Page to post a new message</h3>

<p>We need a page where a user can<br />
type in and submit a new message.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="template-for-new-message">Template for new message</h3>

<pre><code class="language-html">&lt;h1&gt;Post a new message&lt;/h1&gt;

&lt;form&gt;

  &lt;label&gt;What's happening?&lt;/label&gt;
  &lt;input type="text"&gt;

  &lt;input type="submit" value="Post message"&gt;

&lt;/form&gt;
</code></pre>

<p>Create a template called <code>new-message.html</code><br />
containing the HTML code provided.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="route-for-new-message">Route for new message</h3>

<pre><code class="language-python"># new message page
@website.route('/new')
def new_message():
    return 'Home page'
</code></pre>

<p>Add a new route to <code>routes.py</code> which shows <br />
the template <code>new-message</code> for the url <code>/new</code>.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="template-for-sign-in">Template for sign in</h3>

<pre><code class="language-html">&lt;h1&gt;Sign in&lt;/h1&gt;

&lt;form&gt;

  &lt;label&gt;Username&lt;/label&gt;
  &lt;input type="text"&gt;

  &lt;label&gt;Password&lt;/label&gt;
  &lt;input type="text"&gt;

  &lt;input type="submit" value="Log in"&gt;

&lt;/form&gt;
</code></pre>

<p>Create a template called <code>sign-in.html</code><br />
which contains a simple sign in form.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="route-for-sign-in">Route for sign in</h3>

<pre><code class="language-python"># sign in page
@website.route('/sign-in')
def login():
    return 'Sign in page'
</code></pre>

<p>Add a new route to which shows the<br />
sign in template at the url <code>/sign-in</code>.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="challenge-log-out-page">Challenge: Log out page</h3>

<p>Create a new template and route<br />
for the site url <code>/log-out</code>.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="challenge-test-site">Challenge: Test Site</h3>

<p>Write a list of all your routes<br />
then test each in the browser.</p>

<p>Tick them off if they work correctly!</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h2 id="create-navigation">Create navigation</h2>

<p>We can use an <strong>include</strong> to store<br />
a menu bar for use on every page.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="create-nav-bar-include">Create nav bar include</h3>

<pre><code class="language-html">&lt;nav&gt;
  &lt;a href="/"&gt;Home&lt;/a&gt;
  &lt;a href="/new"&gt;New Message&lt;/a&gt;
  &lt;a href="/sign-in"&gt;Sign in&lt;/a&gt;
  &lt;a href="/sign-out"&gt;Sign out&lt;/a&gt;
&lt;/nav&gt;
</code></pre>

<p>Create a new file in the <strong>includes</strong> folder<br />
called <strong>navbar.html</strong>, containing the code provided.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="include-in-all-templates">Include in all templates</h3>

<pre><code class="language-html">{% include navbar.html %}
</code></pre>

<p>At the top of each page template,<br />
add a line of code to include the nav.</p>


<aside class="notes">

<p>New syntax! Woo! The curly brackets with percentage signs are how we run small pieces of Python code within an HTML page.</p>

<p>Look out for more of this as we go on!</p>

</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<h3 id="test-your-navigation">Test your navigation</h3>

<p>Reload your site in the browser<br />
and click to each page to test it.</p>


<aside class="notes">


</aside>

</section>



<!-- slide -->
<section class=""
		
	
		id=""
	
	>
		

<p><img src="/digital-information/theme/assets/images/thumbs-up.svg" alt="Thumbs Up!" height="200" /></p>

<h2 id="flask-complete">Flask: Complete!</h2>

<p><a href="web-forms.html">Take me to the next chapter!</a></p>


<aside class="notes">


</aside>

</section>





		</div>

	</div><!-- .reveal -->




	<div class="sidenotes">
		<div class="content">
			<!-- display notes here using js -->
			<p>Loading...</p>
		</div>
	</div>

</div><!-- .slideshow -->



</div>



		<script src="/digital-information/theme/assets/submodules/revealjs/lib/js/head.min.js"></script>
<script src="/digital-information/theme/assets/submodules/revealjs/js/reveal.min.js"></script>

<script>

	// Full list of configuration options available here:
	// https://github.com/hakimel/reveal.js#configuration
	Reveal.initialize({
		controls: true,
		progress: true,
		history: true,
		center: true,

		width: 1024,
		height: 576,
		margin: 0.1,
		maxScale: 5,

		theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
		transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

		// Optional libraries used to extend on reveal.js
		dependencies: [
			{ src: '/digital-information/theme/assets/submodules/revealjs/lib/js/classList.js', condition: function() { return !document.body.classList; } },
			/*{ src: '/digital-information/assets/submodules/revealjs/plugin/markdown/marked.js' },
			{ src: '/digital-information/assets/submodules/revealjs/plugin/markdown/markdown.js' },*/
			{ src: '/digital-information/theme/assets/submodules/revealjs/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
			{ src: '/digital-information/theme/assets/submodules/revealjs/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
			{ src: '/digital-information/theme/assets/submodules/sidenotes/sidenotes.js' },
			{ src: '/digital-information/theme/assets/submodules/sidenotes/libs/js.cookie.js' }
			/*{ src: '/digital-information/assets/submodules/prism/prism.js', callback: function() { Prism.highlightAll() }}*/
		]
	});
    
    function checkNotesState() {

	    // show the notes on page load if notesByDefault has been 
	    // set to true in the page's front matter.
	    
	      var notesByDefault = false;
	    

	    if(notesByDefault == true) {
	    	Sidenotes.showNotes();
	    }
	}

	Reveal.addEventListener( 'slidechanged', function( event ) {
		slide = $(event.currentSlide);
		if(slide.hasClass('fullscreen')) {
			slide.css('zoom', 1 / Reveal.getScale());
			slide.children().css('zoom', Reveal.getScale());
		}
	});
		

</script>

		<script>

		// adds a class 'codeblock-title' to the paragraph element
		// directly preceding any '.highlight' code block.
		// the title is used to give instructions on where to place
		// the code from the code block.
		$(document).ready( function(){

			$('.highlight').prev('p').addClass('codeblock-title');
			
		});


		// checkpoints are able to be clicked to go to the next slide.
		// when clicked they also visibly update to a green style.
		$(document).ready( function() {
			Reveal.addEventListener( 'ready', function( event ) {
    			
    			$('.checkpoint').click( function(){
					$(this).addClass('checked');
					setTimeout( Reveal.next, 1000 );
				});

			});
		});

		</script>

	</body>
</html>